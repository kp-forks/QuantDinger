"use strict";(self["webpackChunkvue_antd_pro"]=self["webpackChunkvue_antd_pro"]||[]).push([[878],{20878:function(t,a,s){s.r(a),s.d(a,{default:function(){return M}});s(28706),s(34782),s(62010),s(9868);var e=function(){var t=this,a=t._self._c;return a("div",{staticClass:"ai-analysis-container",class:{"theme-dark":t.isDarkTheme,embedded:t.embedded},style:{"--primary-color":t.primaryColor}},[a("div",{staticClass:"main-content-full"},[a("div",{staticClass:"top-index-bar"},[t.loadingSentiment?[t._m(0),t._m(1),t._m(2)]:[a("div",{staticClass:"indicator-box fear-greed",class:t.getFearGreedClass(t.marketData.fearGreed)},[a("span",{staticClass:"ind-label"},[t._v(t._s(t.$t("globalMarket.fearGreedShort")))]),a("span",{staticClass:"ind-value"},[t._v(t._s(t.marketData.fearGreed||"--"))])]),a("div",{staticClass:"indicator-box vix",class:t.getVixLevel(t.marketData.vix)},[a("span",{staticClass:"ind-label"},[t._v("VIX")]),a("span",{staticClass:"ind-value"},[t._v(t._s(t.marketData.vix||"--"))])]),a("div",{staticClass:"indicator-box dxy"},[a("span",{staticClass:"ind-label"},[t._v("DXY")]),a("span",{staticClass:"ind-value"},[t._v(t._s(t.marketData.dxy||"--"))])])],a("div",{staticClass:"indices-marquee"},[t.loadingIndices?[a("div",{staticClass:"indices-loading"},[a("a-icon",{attrs:{type:"loading"}}),t._v(" "+t._s(t.$t("common.loading")||"Âä†ËΩΩ‰∏≠...")+" ")],1)]:t.marketData.indices.length>0?[a("div",{staticClass:"marquee-track"},[t._l(t.marketData.indices,function(s){return a("div",{key:"a-"+s.symbol,staticClass:"index-item"},[a("span",{staticClass:"idx-flag"},[t._v(t._s(s.flag))]),a("span",{staticClass:"idx-symbol"},[t._v(t._s(s.symbol))]),a("span",{staticClass:"idx-price"},[t._v(t._s(t.formatPrice(s.price)))]),a("span",{staticClass:"idx-change",class:s.change>=0?"up":"down"},[a("a-icon",{attrs:{type:s.change>=0?"caret-up":"caret-down"}}),t._v(" "+t._s(Math.abs(s.change).toFixed(2))+"% ")],1)])}),t._l(t.marketData.indices,function(s){return a("div",{key:"b-"+s.symbol,staticClass:"index-item"},[a("span",{staticClass:"idx-flag"},[t._v(t._s(s.flag))]),a("span",{staticClass:"idx-symbol"},[t._v(t._s(s.symbol))]),a("span",{staticClass:"idx-price"},[t._v(t._s(t.formatPrice(s.price)))]),a("span",{staticClass:"idx-change",class:s.change>=0?"up":"down"},[a("a-icon",{attrs:{type:s.change>=0?"caret-up":"caret-down"}}),t._v(" "+t._s(Math.abs(s.change).toFixed(2))+"% ")],1)])})],2)]:[a("div",{staticClass:"indices-empty"},[t._v("--")])]],2),a("a-button",{staticClass:"refresh-btn",attrs:{type:"link",size:"small",loading:t.loadingMarket},on:{click:t.loadMarketData}},[a("a-icon",{attrs:{type:"sync",spin:t.loadingMarket}})],1)],2),a("div",{staticClass:"main-body"},[a("div",{staticClass:"left-panel"},[a("div",{staticClass:"heatmap-box"},[a("div",{staticClass:"box-header"},[a("a-radio-group",{attrs:{size:"small","button-style":"solid"},model:{value:t.heatmapType,callback:function(a){t.heatmapType=a},expression:"heatmapType"}},[a("a-radio-button",{attrs:{value:"crypto"}},[t._v(t._s(t.$t("globalMarket.cryptoHeatmap")))]),a("a-radio-button",{attrs:{value:"commodities"}},[t._v(t._s(t.$t("globalMarket.commoditiesHeatmap")))]),a("a-radio-button",{attrs:{value:"sectors"}},[t._v(t._s(t.$t("globalMarket.sectorHeatmap")))]),a("a-radio-button",{attrs:{value:"forex"}},[t._v(t._s(t.$t("globalMarket.forexHeatmap")))])],1)],1),a("div",{staticClass:"heatmap-grid"},[t.loadingHeatmap?t._l(12,function(t){return a("div",{key:"skel-"+t,staticClass:"heat-cell skeleton-cell"},[a("span",{staticClass:"skeleton-text short"}),a("span",{staticClass:"skeleton-text"})])}):t.currentHeatmap.length>0?t._l(t.currentHeatmap.slice(0,12),function(s,e){return a("div",{key:e,staticClass:"heat-cell",style:t.getHeatmapStyle(s.value)},[a("span",{staticClass:"heat-name"},[t._v(t._s(t.getHeatmapName(s)))]),s.price?a("span",{staticClass:"heat-price"},[t._v(t._s(t.formatHeatmapPrice(s.price)))]):t._e(),a("span",{staticClass:"heat-val"},[t._v(t._s(s.value>=0?"+":"")+t._s(t.formatNum(s.value))+"%")])])}):[a("div",{staticClass:"heatmap-empty"},[t._v(t._s(t.$t("common.noData")||"ÊöÇÊó†Êï∞ÊçÆ"))])]],2)]),a("div",{staticClass:"calendar-box"},[a("div",{staticClass:"box-header"},[a("span",{staticClass:"box-title"},[a("a-icon",{attrs:{type:"calendar"}}),t._v(" "+t._s(t.$t("globalMarket.calendar")))],1)]),a("div",{staticClass:"calendar-list"},[t.loadingCalendar?t._l(5,function(t){return a("div",{key:"cal-skel-"+t,staticClass:"cal-item skeleton-item"},[a("span",{staticClass:"skeleton-text short"}),a("span",{staticClass:"skeleton-text short"}),a("span",{staticClass:"skeleton-text"})])}):t.marketData.calendar.length>0?t._l(t.marketData.calendar.slice(0,10),function(s){return a("div",{key:s.id,staticClass:"cal-item",class:s.importance},[a("span",{staticClass:"cal-date"},[t._v(t._s(t.formatCalendarDate(s.date)))]),a("span",{staticClass:"cal-time"},[t._v(t._s(s.time||"--:--"))]),a("span",{staticClass:"cal-flag"},[t._v(t._s(t.getCountryFlag(s.country)))]),a("span",{staticClass:"cal-name"},[t._v(t._s(t.isZhLocale?s.name:s.name_en))]),a("span",{staticClass:"cal-impact",class:t.getImpactClass(s)},["bullish"===t.getImpactClass(s)?a("a-icon",{attrs:{type:"arrow-up"}}):"bearish"===t.getImpactClass(s)?a("a-icon",{attrs:{type:"arrow-down"}}):a("a-icon",{attrs:{type:"minus"}}),t._v(" "+t._s(s.actual||s.forecast||"--")+" ")],1)])}):[a("div",{staticClass:"cal-empty"},[t._v(t._s(t.$t("globalMarket.noEvents")))])]],2)])]),a("div",{staticClass:"right-panel"},[a("div",{staticClass:"analysis-toolbar"},[a("a-select",{staticClass:"symbol-selector",attrs:{placeholder:t.$t("dashboard.analysis.empty.selectSymbol"),size:"large","show-search":"","allow-clear":"","filter-option":t.filterSymbolOption},on:{change:t.handleSymbolChange},model:{value:t.selectedSymbol,callback:function(a){t.selectedSymbol=a},expression:"selectedSymbol"}},[t._l(t.watchlist||[],function(s){return a("a-select-option",{key:"".concat(s.market,"-").concat(s.symbol),attrs:{value:"".concat(s.market,":").concat(s.symbol)}},[a("span",{staticClass:"symbol-option"},[a("a-tag",{attrs:{color:t.getMarketColor(s.market),size:"small"}},[t._v(t._s(t.getMarketName(s.market)))]),a("strong",{staticStyle:{"margin-left":"6px"}},[t._v(t._s(s.symbol))]),s.name?a("span",{staticClass:"symbol-name"},[t._v(t._s(s.name))]):t._e()],1)])}),a("a-select-option",{key:"add-stock-option",staticClass:"add-stock-option",attrs:{value:"__add_stock_option__"}},[a("div",{staticStyle:{"text-align":"center",padding:"4px 0",color:"#1890ff"}},[a("a-icon",{staticStyle:{"margin-right":"4px"},attrs:{type:"plus"}}),t._v(t._s(t.$t("dashboard.analysis.watchlist.add"))+" ")],1)])],2),a("a-button",{staticClass:"analyze-button",attrs:{type:"primary",size:"large",icon:"thunderbolt",loading:t.analyzing,disabled:!t.selectedSymbol},on:{click:t.startFastAnalysis}},[t._v(" "+t._s(t.$t("fastAnalysis.startAnalysis"))+" ")]),a("a-button",{staticClass:"history-button",attrs:{size:"large",icon:"history"},on:{click:function(a){t.showHistoryModal=!0,t.loadHistoryList()}}},[t._v(" "+t._s(t.$t("fastAnalysis.history"))+" ")])],1),a("div",{staticClass:"analysis-main"},[t.analysisResult||t.analyzing?t._e():a("div",{staticClass:"analysis-placeholder"},[a("div",{staticClass:"placeholder-content"},[a("div",{staticClass:"placeholder-icon"},[a("a-icon",{attrs:{type:"robot"}})],1),a("h3",[t._v(t._s(t.$t("fastAnalysis.selectTip")))]),a("p",[t._v(t._s(t.$t("fastAnalysis.selectHint")))])])]),t.analysisResult||t.analyzing?a("FastAnalysisReport",{attrs:{result:t.analysisResult,loading:t.analyzing,error:t.analysisError},on:{retry:t.startFastAnalysis}}):t._e()],1)]),a("div",{staticClass:"watchlist-panel"},[a("div",{staticClass:"panel-header"},[a("span",{staticClass:"panel-title"},[a("a-icon",{attrs:{type:"star",theme:"filled"}}),t._v(" "+t._s(t.$t("dashboard.analysis.watchlist.title")))],1),a("a-button",{attrs:{type:"link",size:"small"},on:{click:function(a){t.showAddStockModal=!0}}},[a("a-icon",{attrs:{type:"plus"}})],1)],1),a("div",{staticClass:"watchlist-list"},[t._l(t.watchlist||[],function(s){var e,i,r;return a("div",{key:"".concat(s.market,"-").concat(s.symbol),staticClass:"watchlist-item",class:{active:t.selectedSymbol==="".concat(s.market,":").concat(s.symbol)},on:{click:function(a){return t.selectWatchlistItem(s)}}},[a("div",{staticClass:"item-main"},[a("span",{staticClass:"item-symbol"},[t._v(t._s(s.symbol))]),a("span",{staticClass:"item-name"},[t._v(t._s(s.name||t.getMarketName(s.market)))])]),t.watchlistPrices["".concat(s.market,":").concat(s.symbol)]?a("div",{staticClass:"item-price"},[a("span",{staticClass:"price-value"},[t._v(t._s(t.formatPrice(t.watchlistPrices["".concat(s.market,":").concat(s.symbol)].price)))]),a("span",{staticClass:"price-change",class:((null===(e=t.watchlistPrices["".concat(s.market,":").concat(s.symbol)])||void 0===e?void 0:e.change)||0)>=0?"up":"down"},[t._v(" "+t._s(((null===(i=t.watchlistPrices["".concat(s.market,":").concat(s.symbol)])||void 0===i?void 0:i.change)||0)>=0?"+":"")+t._s(t.formatNum(null===(r=t.watchlistPrices["".concat(s.market,":").concat(s.symbol)])||void 0===r?void 0:r.change))+"% ")])]):t._e(),a("a-icon",{staticClass:"item-remove",attrs:{type:"close"},on:{click:function(a){return a.stopPropagation(),t.removeFromWatchlist(s)}}})],1)}),t.watchlist&&0!==t.watchlist.length?t._e():a("div",{staticClass:"watchlist-empty"},[a("a-icon",{attrs:{type:"inbox"}}),a("p",[t._v(t._s(t.$t("dashboard.analysis.empty.noWatchlist")))]),a("a-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.showAddStockModal=!0}}},[a("a-icon",{attrs:{type:"plus"}}),t._v(" "+t._s(t.$t("dashboard.analysis.watchlist.add"))+" ")],1)],1)],2)])])]),a("a-modal",{attrs:{title:t.$t("dashboard.analysis.modal.addStock.title"),visible:t.showAddStockModal,confirmLoading:t.addingStock,width:"600px",okText:t.$t("dashboard.analysis.modal.addStock.confirm"),cancelText:t.$t("dashboard.analysis.modal.addStock.cancel")},on:{ok:t.handleAddStock,cancel:t.handleCloseAddStockModal}},[a("div",{staticClass:"add-stock-modal-content"},[a("a-tabs",{staticClass:"market-tabs",on:{change:t.handleMarketTabChange},model:{value:t.selectedMarketTab,callback:function(a){t.selectedMarketTab=a},expression:"selectedMarketTab"}},t._l(t.marketTypes,function(s){return a("a-tab-pane",{key:s.value,attrs:{tab:t.$t(s.i18nKey||"dashboard.analysis.market.".concat(s.value))}})}),1),a("div",{staticClass:"symbol-search-section"},[a("a-input-search",{attrs:{placeholder:t.$t("dashboard.analysis.modal.addStock.searchOrInputPlaceholder"),loading:t.searchingSymbols,size:"large","allow-clear":""},on:{search:t.handleSearchOrInput,change:t.handleSymbolSearchInput},model:{value:t.symbolSearchKeyword,callback:function(a){t.symbolSearchKeyword=a},expression:"symbolSearchKeyword"}},[a("a-button",{attrs:{slot:"enterButton",type:"primary",icon:"search"},slot:"enterButton"},[t._v(" "+t._s(t.$t("dashboard.analysis.modal.addStock.search"))+" ")])],1)],1),t.symbolSearchResults.length>0?a("div",{staticClass:"search-results-section"},[a("div",{staticClass:"section-title"},[a("a-icon",{staticStyle:{"margin-right":"4px"},attrs:{type:"search"}}),t._v(" "+t._s(t.$t("dashboard.analysis.modal.addStock.searchResults"))+" ")],1),a("a-list",{staticClass:"symbol-list",attrs:{"data-source":t.symbolSearchResults,loading:t.searchingSymbols,size:"small"},scopedSlots:t._u([{key:"renderItem",fn:function(s){return a("a-list-item",{staticClass:"symbol-list-item",on:{click:function(a){return t.selectSymbol(s)}}},[a("a-list-item-meta",[a("template",{slot:"title"},[a("div",{staticClass:"symbol-item-content"},[a("span",{staticClass:"symbol-code"},[t._v(t._s(s.symbol))]),a("span",{staticClass:"symbol-name"},[t._v(t._s(s.name))]),s.exchange?a("a-tag",{staticStyle:{"margin-left":"8px"},attrs:{size:"small",color:"blue"}},[t._v(" "+t._s(s.exchange)+" ")]):t._e()],1)])],2)],1)}}],null,!1,1074844145)})],1):t._e(),a("div",{staticClass:"hot-symbols-section"},[a("div",{staticClass:"section-title"},[a("a-icon",{staticStyle:{color:"#ff4d4f","margin-right":"4px"},attrs:{type:"fire"}}),t._v(" "+t._s(t.$t("dashboard.analysis.modal.addStock.hotSymbols"))+" ")],1),a("a-spin",{attrs:{spinning:t.loadingHotSymbols}},[t.hotSymbols.length>0?a("a-list",{staticClass:"symbol-list",attrs:{"data-source":t.hotSymbols,size:"small"},scopedSlots:t._u([{key:"renderItem",fn:function(s){return a("a-list-item",{staticClass:"symbol-list-item",on:{click:function(a){return t.selectSymbol(s)}}},[a("a-list-item-meta",[a("template",{slot:"title"},[a("div",{staticClass:"symbol-item-content"},[a("span",{staticClass:"symbol-code"},[t._v(t._s(s.symbol))]),a("span",{staticClass:"symbol-name"},[t._v(t._s(s.name))]),s.exchange?a("a-tag",{staticStyle:{"margin-left":"8px"},attrs:{size:"small",color:"orange"}},[t._v(" "+t._s(s.exchange)+" ")]):t._e()],1)])],2)],1)}}],null,!1,2177647935)}):a("a-empty",{attrs:{description:t.$t("dashboard.analysis.modal.addStock.noHotSymbols"),image:!1}})],1)],1),t.selectedSymbolForAdd?a("div",{staticClass:"selected-symbol-section"},[a("a-alert",{attrs:{message:t.$t("dashboard.analysis.modal.addStock.selectedSymbol"),type:"info","show-icon":"",closable:""},on:{close:function(a){t.selectedSymbolForAdd=null}}},[a("template",{slot:"description"},[a("div",{staticClass:"selected-symbol-info"},[a("a-tag",{staticStyle:{"margin-right":"8px"},attrs:{color:t.getMarketColor(t.selectedSymbolForAdd.market)}},[t._v(" "+t._s(t.$t("dashboard.analysis.market.".concat(t.selectedSymbolForAdd.market)))+" ")]),a("strong",[t._v(t._s(t.selectedSymbolForAdd.symbol))]),t.selectedSymbolForAdd.name?a("span",{staticStyle:{color:"#999","margin-left":"8px"}},[t._v(t._s(t.selectedSymbolForAdd.name))]):t._e()],1)])],2)],1):t._e()],1)]),a("a-modal",{attrs:{title:t.$t("dashboard.analysis.modal.history.title"),visible:t.showHistoryModal,footer:null,width:"800px",bodyStyle:{maxHeight:"60vh",overflowY:"auto"}},on:{cancel:function(a){t.showHistoryModal=!1}}},[a("a-spin",{attrs:{spinning:t.historyLoading}},[a("a-list",{attrs:{"data-source":t.historyList,pagination:{current:t.historyPage,pageSize:t.historyPageSize,total:t.historyTotal,onChange:function(a){t.historyPage=a,t.loadHistoryList()},showSizeChanger:!0,pageSizeOptions:["10","20","50"],onShowSizeChange:function(a,s){t.historyPageSize=s,t.historyPage=1,t.loadHistoryList()}}},scopedSlots:t._u([{key:"renderItem",fn:function(s){return a("a-list-item",{},[a("a-list-item-meta",[a("template",{slot:"title"},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"space-between"}},[a("div",[a("a-tag",{staticStyle:{"margin-right":"8px"},attrs:{color:t.getMarketColor(s.market)}},[t._v(" "+t._s(t.getMarketName(s.market))+" ")]),a("strong",[t._v(t._s(s.symbol))]),a("a-tag",{staticStyle:{"margin-left":"12px"},attrs:{color:"BUY"===s.decision?"green":"SELL"===s.decision?"red":"blue"}},[t._v(" "+t._s(s.decision)+" ")]),a("span",{staticStyle:{color:"#999","margin-left":"8px","font-size":"12px"}},[t._v(" "+t._s(t.$t("fastAnalysis.confidence"))+": "+t._s(s.confidence)+"% ")])],1),a("div",[a("a-button",{attrs:{type:"link",size:"small",icon:"eye"},on:{click:function(a){return t.viewHistoryResult(s)}}},[t._v(" "+t._s(t.$t("dashboard.analysis.modal.history.viewResult"))+" ")]),a("a-popconfirm",{attrs:{title:t.$t("dashboard.analysis.modal.history.deleteConfirm"),"ok-text":t.$t("common.confirm"),"cancel-text":t.$t("common.cancel")},on:{confirm:function(a){return t.deleteHistoryItem(s)}}},[a("a-button",{staticStyle:{color:"#ff4d4f"},attrs:{type:"link",size:"small",icon:"delete"}},[t._v(" "+t._s(t.$t("dashboard.analysis.modal.history.delete"))+" ")])],1)],1)])]),a("template",{slot:"description"},[a("div",{staticStyle:{color:"#666","font-size":"12px"}},[s.price?a("span",[t._v("$"+t._s(t.formatNumber(s.price)))]):t._e(),s.summary?a("span",{staticStyle:{"margin-left":"8px"}},[t._v(t._s(s.summary.substring(0,80))+t._s(s.summary.length>80?"...":""))]):t._e()]),s.created_at?a("div",{staticStyle:{color:"#999","font-size":"12px","margin-top":"4px"}},[t._v(" "+t._s(t.formatIsoTime(s.created_at))+" ")]):t._e()])],2)],1)}}])}),t.historyLoading||0!==t.historyList.length?t._e():a("a-empty",{attrs:{description:t.$t("dashboard.analysis.empty.noHistory")}})],1)],1)],1)},i=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"indicator-box skeleton-box"},[a("span",{staticClass:"skeleton-text short"}),a("span",{staticClass:"skeleton-text"})])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"indicator-box skeleton-box"},[a("span",{staticClass:"skeleton-text short"}),a("span",{staticClass:"skeleton-text"})])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"indicator-box skeleton-box"},[a("span",{staticClass:"skeleton-text short"}),a("span",{staticClass:"skeleton-text"})])}],r=s(44735),n=s(15863),l=s(81127),o=s(56252),c=s(76338),d=(s(74423),s(62062),s(2892),s(26099),s(21699),s(42762),s(23500),s(95353)),u=s(505),m=s(35038),h=s(75769),y="/api/fast-analysis";function p(t){return(0,h.Ay)({url:"".concat(y,"/analyze"),method:"post",data:t,timeout:6e4})}function v(t){return(0,h.Ay)({url:"".concat(y,"/history/all"),method:"get",params:t})}function f(t){return(0,h.Ay)({url:"".concat(y,"/history/").concat(t),method:"delete"})}function g(t){return(0,h.Ay)({url:"".concat(y,"/feedback"),method:"post",data:t})}var b=s(44146),_=(s(79432),function(){var t,a,s,e,i,r,n,l,o,c,d,u,m,h,y,p,v,f,g,b,_,k,C,S,A,w=this,$=w._self._c;return $("div",{staticClass:"fast-analysis-report",class:{"theme-dark":w.isDarkTheme}},[w.loading?$("div",{staticClass:"loading-container"},[$("div",{staticClass:"loading-content-pro"},[$("div",{staticClass:"loading-header"},[$("a-icon",{staticClass:"loading-icon-pro",attrs:{type:"thunderbolt"}}),$("span",{staticClass:"loading-title"},[w._v(w._s(w.$t("fastAnalysis.analyzing")))])],1),$("div",{staticClass:"progress-wrapper"},[$("a-progress",{attrs:{percent:w.progressPercent,showInfo:!1,strokeColor:"#1890ff",strokeWidth:8}}),$("span",{staticClass:"progress-text"},[w._v(w._s(w.formatProgress(w.progressPercent))+"%")])],1),$("div",{staticClass:"current-step"},[$("a-icon",{attrs:{type:"loading",spin:""}}),$("span",[w._v(w._s(w.currentStepText))])],1),$("div",{staticClass:"steps-list"},[$("div",{staticClass:"step-item",class:{done:w.step>1,active:1===w.step}},[$("span",{staticClass:"step-dot"}),$("span",{staticClass:"step-text"},[w._v(w._s(w.$t("fastAnalysis.step1")||"Ëé∑ÂèñÂÆûÊó∂Êï∞ÊçÆ"))]),w.step>1?$("a-icon",{staticClass:"step-check",attrs:{type:"check"}}):w._e()],1),$("div",{staticClass:"step-item",class:{done:w.step>2,active:2===w.step}},[$("span",{staticClass:"step-dot"}),$("span",{staticClass:"step-text"},[w._v(w._s(w.$t("fastAnalysis.step2")||"ËÆ°ÁÆóÊäÄÊúØÊåáÊ†á"))]),w.step>2?$("a-icon",{staticClass:"step-check",attrs:{type:"check"}}):w._e()],1),$("div",{staticClass:"step-item",class:{done:w.step>3,active:3===w.step}},[$("span",{staticClass:"step-dot"}),$("span",{staticClass:"step-text"},[w._v(w._s(w.$t("fastAnalysis.step3")||"AIÊ∑±Â∫¶ÂàÜÊûê"))]),w.step>3?$("a-icon",{staticClass:"step-check",attrs:{type:"check"}}):w._e()],1),$("div",{staticClass:"step-item",class:{done:w.step>4,active:4===w.step}},[$("span",{staticClass:"step-dot"}),$("span",{staticClass:"step-text"},[w._v(w._s(w.$t("fastAnalysis.step4")||"ÁîüÊàêÊä•Âëä"))]),w.step>4?$("a-icon",{staticClass:"step-check",attrs:{type:"check"}}):w._e()],1)]),$("div",{staticClass:"loading-footer"},[$("span",{staticClass:"elapsed-time"},[w._v(w._s(w.elapsedTimeText))])])])]):w.error?$("div",{staticClass:"error-container"},[$("a-result",{attrs:{status:"error",title:w.$t("fastAnalysis.error"),"sub-title":w.error},scopedSlots:w._u([{key:"extra",fn:function(){return[$("a-button",{attrs:{type:"primary"},on:{click:function(t){return w.$emit("retry")}}},[w._v(" "+w._s(w.$t("fastAnalysis.retry"))+" ")])]},proxy:!0}])})],1):w.result?$("div",{staticClass:"result-container"},[$("div",{staticClass:"decision-card",class:w.decisionClass},[$("div",{staticClass:"decision-main"},[$("div",{staticClass:"decision-badge"},[$("a-icon",{attrs:{type:w.decisionIcon}}),$("span",{staticClass:"decision-text"},[w._v(w._s(w.result.decision))])],1),$("div",{staticClass:"confidence-ring"},[$("a-progress",{attrs:{type:"circle",percent:w.result.confidence,width:80,strokeColor:w.confidenceColor},scopedSlots:w._u([{key:"format",fn:function(t){return[$("span",{staticClass:"confidence-value"},[w._v(w._s(t)+"%")])]}}])}),$("div",{staticClass:"confidence-label"},[w._v(w._s(w.$t("fastAnalysis.confidence")))])],1)]),$("div",{staticClass:"decision-summary"},[w._v(" "+w._s(w.result.summary)+" ")])]),$("div",{staticClass:"price-info-row"},[$("div",{staticClass:"price-card current"},[$("div",{staticClass:"price-label"},[w._v(w._s(w.$t("fastAnalysis.currentPrice")))]),$("div",{staticClass:"price-value"},[w._v("$"+w._s(w.formatPrice(null===(t=w.result.market_data)||void 0===t?void 0:t.current_price)))]),$("div",{staticClass:"price-change",class:(null===(a=w.result.market_data)||void 0===a?void 0:a.change_24h)>=0?"positive":"negative"},[w._v(" "+w._s((null===(s=w.result.market_data)||void 0===s?void 0:s.change_24h)>=0?"+":"")+w._s(w.formatNumber(null===(e=w.result.market_data)||void 0===e?void 0:e.change_24h,2))+"% ")])]),$("div",{staticClass:"price-card entry"},[$("div",{staticClass:"price-label"},[w._v(w._s(w.$t("fastAnalysis.entryPrice")))]),$("div",{staticClass:"price-value"},[w._v("$"+w._s(w.formatPrice(null===(i=w.result.trading_plan)||void 0===i?void 0:i.entry_price)))])]),$("div",{staticClass:"price-card stop"},[$("div",{staticClass:"price-label"},[w._v(w._s(w.$t("fastAnalysis.stopLoss")))]),$("div",{staticClass:"price-value negative"},[w._v("$"+w._s(w.formatPrice(null===(r=w.result.trading_plan)||void 0===r?void 0:r.stop_loss)))]),$("div",{staticClass:"price-hint"},[$("a-tooltip",{attrs:{title:w.$t("fastAnalysis.stopLossHint")}},[$("a-icon",{attrs:{type:"info-circle"}}),w._v(" "+w._s(w.$t("fastAnalysis.atrBased"))+" ")],1)],1)]),$("div",{staticClass:"price-card target"},[$("div",{staticClass:"price-label"},[w._v(w._s(w.$t("fastAnalysis.takeProfit")))]),$("div",{staticClass:"price-value positive"},[w._v("$"+w._s(w.formatPrice(null===(n=w.result.trading_plan)||void 0===n?void 0:n.take_profit)))]),$("div",{staticClass:"price-hint"},[$("a-tooltip",{attrs:{title:w.$t("fastAnalysis.takeProfitHint")}},[$("a-icon",{attrs:{type:"info-circle"}}),w._v(" "+w._s(w.$t("fastAnalysis.atrBased"))+" ")],1)],1)])]),$("div",{staticClass:"scores-row"},[$("div",{staticClass:"score-item"},[$("div",{staticClass:"score-header"},[$("a-icon",{attrs:{type:"line-chart"}}),$("span",[w._v(w._s(w.$t("fastAnalysis.technical")))])],1),$("a-progress",{attrs:{percent:(null===(l=w.result.scores)||void 0===l?void 0:l.technical)||50,strokeColor:w.getScoreColor(null===(o=w.result.scores)||void 0===o?void 0:o.technical),showInfo:!1}}),$("div",{staticClass:"score-value"},[w._v(w._s((null===(c=w.result.scores)||void 0===c?void 0:c.technical)||50))])],1),$("div",{staticClass:"score-item"},[$("div",{staticClass:"score-header"},[$("a-icon",{attrs:{type:"bank"}}),$("span",[w._v(w._s(w.$t("fastAnalysis.fundamental")))])],1),$("a-progress",{attrs:{percent:(null===(d=w.result.scores)||void 0===d?void 0:d.fundamental)||50,strokeColor:w.getScoreColor(null===(u=w.result.scores)||void 0===u?void 0:u.fundamental),showInfo:!1}}),$("div",{staticClass:"score-value"},[w._v(w._s((null===(m=w.result.scores)||void 0===m?void 0:m.fundamental)||50))])],1),$("div",{staticClass:"score-item"},[$("div",{staticClass:"score-header"},[$("a-icon",{attrs:{type:"heart"}}),$("span",[w._v(w._s(w.$t("fastAnalysis.sentiment")))])],1),$("a-progress",{attrs:{percent:(null===(h=w.result.scores)||void 0===h?void 0:h.sentiment)||50,strokeColor:w.getScoreColor(null===(y=w.result.scores)||void 0===y?void 0:y.sentiment),showInfo:!1}}),$("div",{staticClass:"score-value"},[w._v(w._s((null===(p=w.result.scores)||void 0===p?void 0:p.sentiment)||50))])],1),$("div",{staticClass:"score-item overall"},[$("div",{staticClass:"score-header"},[$("a-icon",{attrs:{type:"dashboard"}}),$("span",[w._v(w._s(w.$t("fastAnalysis.overall")))])],1),$("a-progress",{attrs:{percent:(null===(v=w.result.scores)||void 0===v?void 0:v.overall)||50,strokeColor:w.getScoreColor(null===(f=w.result.scores)||void 0===f?void 0:f.overall),showInfo:!1}}),$("div",{staticClass:"score-value"},[w._v(w._s((null===(g=w.result.scores)||void 0===g?void 0:g.overall)||50))])],1)]),w.result.detailed_analysis?$("div",{staticClass:"detailed-analysis"},[w.result.detailed_analysis.technical?$("div",{staticClass:"analysis-card technical"},[$("div",{staticClass:"analysis-card-header"},[$("a-icon",{attrs:{type:"line-chart"}}),$("span",[w._v(w._s(w.$t("fastAnalysis.technicalAnalysis")))]),$("a-tag",{attrs:{color:w.getScoreTagColor(null===(b=w.result.scores)||void 0===b?void 0:b.technical)}},[w._v(" "+w._s((null===(_=w.result.scores)||void 0===_?void 0:_.technical)||50)+"ÂàÜ ")])],1),$("div",{staticClass:"analysis-card-content"},[w._v(" "+w._s(w.result.detailed_analysis.technical)+" ")])]):w._e(),w.result.detailed_analysis.fundamental?$("div",{staticClass:"analysis-card fundamental"},[$("div",{staticClass:"analysis-card-header"},[$("a-icon",{attrs:{type:"bank"}}),$("span",[w._v(w._s(w.$t("fastAnalysis.fundamentalAnalysis")))]),$("a-tag",{attrs:{color:w.getScoreTagColor(null===(k=w.result.scores)||void 0===k?void 0:k.fundamental)}},[w._v(" "+w._s((null===(C=w.result.scores)||void 0===C?void 0:C.fundamental)||50)+"ÂàÜ ")])],1),$("div",{staticClass:"analysis-card-content"},[w._v(" "+w._s(w.result.detailed_analysis.fundamental)+" ")])]):w._e(),w.result.detailed_analysis.sentiment?$("div",{staticClass:"analysis-card sentiment"},[$("div",{staticClass:"analysis-card-header"},[$("a-icon",{attrs:{type:"heart"}}),$("span",[w._v(w._s(w.$t("fastAnalysis.sentimentAnalysis")))]),$("a-tag",{attrs:{color:w.getScoreTagColor(null===(S=w.result.scores)||void 0===S?void 0:S.sentiment)}},[w._v(" "+w._s((null===(A=w.result.scores)||void 0===A?void 0:A.sentiment)||50)+"ÂàÜ ")])],1),$("div",{staticClass:"analysis-card-content"},[w._v(" "+w._s(w.result.detailed_analysis.sentiment)+" ")])]):w._e()]):w._e(),$("div",{staticClass:"analysis-details"},[$("div",{staticClass:"detail-section reasons"},[$("div",{staticClass:"section-title"},[$("a-icon",{attrs:{type:"bulb",theme:"twoTone",twoToneColor:"#52c41a"}}),$("span",[w._v(w._s(w.$t("fastAnalysis.keyReasons")))])],1),$("ul",{staticClass:"detail-list"},w._l(w.result.reasons,function(t,a){return $("li",{key:"r-"+a},[w._v(" "+w._s(t)+" ")])}),0)]),$("div",{staticClass:"detail-section risks"},[$("div",{staticClass:"section-title"},[$("a-icon",{attrs:{type:"warning",theme:"twoTone",twoToneColor:"#faad14"}}),$("span",[w._v(w._s(w.$t("fastAnalysis.risks")))])],1),$("ul",{staticClass:"detail-list"},w._l(w.result.risks,function(t,a){return $("li",{key:"k-"+a},[w._v(" "+w._s(t)+" ")])}),0)])]),w.result.indicators&&Object.keys(w.result.indicators).length>0?$("div",{staticClass:"indicators-section"},[$("div",{staticClass:"section-title"},[$("a-icon",{attrs:{type:"stock"}}),$("span",[w._v(w._s(w.$t("fastAnalysis.indicators")))])],1),$("div",{staticClass:"indicators-grid"},[w.result.indicators.rsi?$("div",{staticClass:"indicator-item"},[$("div",{staticClass:"indicator-name"},[w._v("RSI (14)")]),$("div",{staticClass:"indicator-value",class:w.getRsiClass(w.result.indicators.rsi.value)},[w._v(" "+w._s(w.formatNumber(w.result.indicators.rsi.value,1))+" ")]),$("div",{staticClass:"indicator-signal"},[w._v(w._s(w.translateSignal(w.result.indicators.rsi.signal)))])]):w._e(),w.result.indicators.macd?$("div",{staticClass:"indicator-item"},[$("div",{staticClass:"indicator-name"},[w._v("MACD")]),$("div",{staticClass:"indicator-value",class:"bullish"===w.result.indicators.macd.signal?"bullish":"bearish"===w.result.indicators.macd.signal?"bearish":""},[w._v(" "+w._s(w.translateTrend(w.result.indicators.macd.trend))+" ")]),$("div",{staticClass:"indicator-signal"},[w._v(w._s(w.translateSignal(w.result.indicators.macd.signal)))])]):w._e(),w.result.indicators.moving_averages?$("div",{staticClass:"indicator-item"},[$("div",{staticClass:"indicator-name"},[w._v(w._s(w.$t("fastAnalysis.maTrend")))]),$("div",{staticClass:"indicator-value",class:w.getMaTrendClass(w.result.indicators.moving_averages.trend)},[w._v(" "+w._s(w.translateTrend(w.result.indicators.moving_averages.trend))+" ")])]):w._e(),w.result.indicators.levels?$("div",{staticClass:"indicator-item"},[$("div",{staticClass:"indicator-name"},[w._v(w._s(w.$t("fastAnalysis.support")))]),$("div",{staticClass:"indicator-value"},[w._v("$"+w._s(w.formatPrice(w.result.indicators.levels.support)))])]):w._e(),w.result.indicators.levels?$("div",{staticClass:"indicator-item"},[$("div",{staticClass:"indicator-name"},[w._v(w._s(w.$t("fastAnalysis.resistance")))]),$("div",{staticClass:"indicator-value"},[w._v("$"+w._s(w.formatPrice(w.result.indicators.levels.resistance)))])]):w._e(),w.result.indicators.volatility?$("div",{staticClass:"indicator-item"},[$("div",{staticClass:"indicator-name"},[w._v(w._s(w.$t("fastAnalysis.volatility")))]),$("div",{staticClass:"indicator-value",class:w.getVolatilityClass(w.result.indicators.volatility.level)},[w._v(" "+w._s(w.translateVolatility(w.result.indicators.volatility.level))+" ("+w._s(w.result.indicators.volatility.pct)+"%) ")])]):w._e()])]):w._e(),$("div",{staticClass:"feedback-section"},[$("div",{staticClass:"feedback-question"},[w._v(w._s(w.$t("fastAnalysis.wasHelpful")))]),$("div",{staticClass:"feedback-buttons"},[$("a-button",{attrs:{type:"helpful"===w.userFeedback?"primary":"default",size:"small",loading:"helpful"===w.feedbackLoading},on:{click:function(t){return w.submitFeedback("helpful")}}},[$("a-icon",{attrs:{type:"like"}}),w._v(" "+w._s(w.$t("fastAnalysis.helpful"))+" ")],1),$("a-button",{attrs:{type:"not_helpful"===w.userFeedback?"danger":"default",size:"small",loading:"not_helpful"===w.feedbackLoading},on:{click:function(t){return w.submitFeedback("not_helpful")}}},[$("a-icon",{attrs:{type:"dislike"}}),w._v(" "+w._s(w.$t("fastAnalysis.notHelpful"))+" ")],1)],1),$("div",{staticClass:"analysis-meta"},[$("span",[w._v(w._s(w.$t("fastAnalysis.analysisTime"))+": "+w._s(w.result.analysis_time_ms)+"ms")]),w.result.memory_id?$("span",[w._v("ID: #"+w._s(w.result.memory_id))]):w._e()])])]):$("div",{staticClass:"empty-container"},[$("div",{staticClass:"empty-content"},[$("a-icon",{staticClass:"empty-icon",attrs:{type:"radar-chart"}}),$("div",{staticClass:"empty-title"},[w._v(w._s(w.$t("fastAnalysis.selectSymbol")))]),$("div",{staticClass:"empty-hint"},[w._v(w._s(w.$t("fastAnalysis.selectHint")))])],1)])])}),k=[],C={name:"FastAnalysisReport",props:{result:{type:Object,default:null},loading:{type:Boolean,default:!1},error:{type:String,default:null}},data:function(){return{userFeedback:null,feedbackLoading:null,progress:0,elapsedSeconds:0,mainTimer:null}},computed:(0,c.A)((0,c.A)({},(0,d.aH)({navTheme:function(t){return t.app.theme}})),{},{isDarkTheme:function(){return"dark"===this.navTheme||"realdark"===this.navTheme},progressPercent:function(){return Math.round(10*this.progress)/10},step:function(){return this.progress<25?1:this.progress<50?2:this.progress<75?3:4},currentStepText:function(){var t={1:this.$t("fastAnalysis.step1")||"Ëé∑ÂèñÂÆûÊó∂Êï∞ÊçÆ",2:this.$t("fastAnalysis.step2")||"ËÆ°ÁÆóÊäÄÊúØÊåáÊ†á",3:this.$t("fastAnalysis.step3")||"AIÊ∑±Â∫¶ÂàÜÊûê",4:this.$t("fastAnalysis.step4")||"ÁîüÊàêÊä•Âëä"};return t[this.step]||this.$t("fastAnalysis.preparing")||"ÂáÜÂ§á‰∏≠..."},elapsedTimeText:function(){if(this.elapsedSeconds<60)return"".concat(this.elapsedSeconds,"s");var t=Math.floor(this.elapsedSeconds/60),a=this.elapsedSeconds%60;return"".concat(t,"m ").concat(a,"s")},decisionClass:function(){if(!this.result)return"";var t=this.result.decision;return"BUY"===t?"decision-buy":"SELL"===t?"decision-sell":"decision-hold"},decisionIcon:function(){if(!this.result)return"question";var t=this.result.decision;return"BUY"===t?"arrow-up":"SELL"===t?"arrow-down":"pause"},confidenceColor:function(){var t,a=(null===(t=this.result)||void 0===t?void 0:t.confidence)||50;return a>=70?"#52c41a":a>=50?"#1890ff":"#faad14"}}),watch:{result:function(){this.userFeedback=null},loading:{handler:function(t){t?this.startProgressTimer():this.stopProgressTimer()},immediate:!0}},mounted:function(){this.loading&&this.startProgressTimer()},beforeDestroy:function(){this.stopProgressTimer()},methods:{formatPrice:function(t){if(void 0===t||null===t)return"--";var a=parseFloat(t);return isNaN(a)?"--":a<1?a.toFixed(6):a<100?a.toFixed(4):a<1e4?a.toFixed(2):a.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},formatNumber:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(void 0===t||null===t)return"--";var s=parseFloat(t);return isNaN(s)?"--":s.toFixed(a)},formatProgress:function(t){var a=parseFloat(t)||0;return a%1===0?a.toFixed(0):a.toFixed(1)},getScoreColor:function(t){return t>=70?"#52c41a":t>=50?"#1890ff":t>=30?"#faad14":"#ff4d4f"},getScoreTagColor:function(t){return t>=70?"green":t>=50?"blue":t>=30?"orange":"red"},getRsiClass:function(t){return t<30?"oversold":t>70?"overbought":""},getMaTrendClass:function(t){return t?t.includes("uptrend")||t.includes("strong_uptrend")?"bullish":t.includes("downtrend")||t.includes("strong_downtrend")?"bearish":"":""},getVolatilityClass:function(t){return"high"===t?"high-volatility":"low"===t?"low-volatility":""},translateSignal:function(t){if(!t)return"--";var a="fastAnalysis.signal.".concat(t),s=this.$t(a);return s===a?t:s},translateTrend:function(t){if(!t)return"--";var a="fastAnalysis.trend.".concat(t),s=this.$t(a);return s===a?t:s},translateVolatility:function(t){if(!t)return"--";var a="fastAnalysis.volatilityLevel.".concat(t),s=this.$t(a);return s===a?t:s},submitFeedback:function(t){var a=this;return(0,o.A)((0,l.A)().m(function s(){var e;return(0,l.A)().w(function(s){while(1)switch(s.p=s.n){case 0:if(null!==(e=a.result)&&void 0!==e&&e.memory_id){s.n=1;break}return a.$message.warning(a.$t("fastAnalysis.feedbackUnavailable")||"ÂèçÈ¶àÂäüËÉΩÊöÇ‰∏çÂèØÁî®ÔºåËØ∑Âà∑Êñ∞ÂêéÈáçËØï"),s.a(2);case 1:return a.feedbackLoading=t,s.p=2,s.n=3,g({memory_id:a.result.memory_id,feedback:t});case 3:a.userFeedback=t,a.$message.success(a.$t("fastAnalysis.feedbackThanks")),s.n=5;break;case 4:s.p=4,s.v,a.$message.error(a.$t("fastAnalysis.feedbackFailed"));case 5:return s.p=5,a.feedbackLoading=null,s.f(5);case 6:return s.a(2)}},s,null,[[2,4,5,6]])}))()},startProgressTimer:function(){var t=this;this.stopProgressTimer(),this.progress=0,this.elapsedSeconds=0;var a=Date.now();this.mainTimer=window.setInterval(function(){t.elapsedSeconds=Math.floor((Date.now()-a)/1e3),t.progress<75?t.progress=Math.min(t.progress+1,75):t.progress<90?t.progress=Math.min(t.progress+.5,90):t.progress<95&&(t.progress=Math.min(t.progress+.2,95))},100)},stopProgressTimer:function(){this.mainTimer&&(window.clearInterval(this.mainTimer),this.mainTimer=null),this.progress=0,this.elapsedSeconds=0}}},S=C,A=s(81656),w=(0,A.A)(S,_,k,!1,null,"110dde64",null),$=w.exports,x={name:"Analysis",props:{embedded:{type:Boolean,default:!1},presetSymbol:{type:String,default:""},autoAnalyzeSignal:{type:Number,default:0}},components:{FastAnalysisReport:$},data:function(){return{loadingMarket:!1,heatmapType:"crypto",marketData:{fearGreed:null,vix:null,dxy:null,indices:[],heatmap:{crypto:[],commodities:[],sectors:[],forex:[]},calendar:[]},loadingSentiment:!1,loadingIndices:!1,loadingHeatmap:!1,loadingCalendar:!1,watchlistPriceTimer:null,watchlistPrices:{},localUserInfo:{},loadingUserInfo:!1,userId:1,watchlist:[],loadingWatchlist:!1,showAddStockModal:!1,addingStock:!1,selectedSymbol:void 0,analyzing:!1,analysisResult:null,analysisError:null,showHistoryModal:!1,historyList:[],historyLoading:!1,historyPage:1,historyPageSize:20,historyTotal:0,marketTypes:[],selectedMarketTab:"",symbolSearchKeyword:"",symbolSearchResults:[],searchingSymbols:!1,hotSymbols:[],loadingHotSymbols:!1,selectedSymbolForAdd:null,searchTimer:null,hasSearched:!1}},computed:(0,c.A)((0,c.A)((0,c.A)({},(0,d.L8)(["userInfo"])),(0,d.aH)({navTheme:function(t){return t.app.theme},primaryColor:function(t){return t.app.color||"#1890ff"}})),{},{isDarkTheme:function(){return"dark"===this.navTheme||"realdark"===this.navTheme},isZhLocale:function(){return"zh-CN"===this.$i18n.locale},currentHeatmap:function(){return this.marketData.heatmap[this.heatmapType]||[]},storeUserInfo:function(){return this.userInfo||{}},mergedUserInfo:function(){return this.localUserInfo&&this.localUserInfo.email?this.localUserInfo:this.storeUserInfo}}),created:function(){this.loadUserInfo(),this.loadMarketTypes(),this.loadWatchlist(),this.loadMarketData()},mounted:function(){this.startWatchlistPriceRefresh()},beforeDestroy:function(){this.watchlistPriceTimer&&clearInterval(this.watchlistPriceTimer)},methods:{filterSymbolOption:function(t,a){var s,e=(null===(s=a.componentOptions)||void 0===s||null===(s=s.propsData)||void 0===s?void 0:s.value)||"";return"__add_stock_option__"===e||e.toLowerCase().includes(t.toLowerCase())},handleSymbolChange:function(t){var a=this;if("__add_stock_option__"===t)return this.showAddStockModal=!0,void this.$nextTick(function(){a.selectedSymbol=void 0});this.selectedSymbol=t,this.analysisResult=null,this.analysisError=null,this.$emit("symbol-change",t)},selectWatchlistItem:function(t){this.selectedSymbol="".concat(t.market,":").concat(t.symbol),this.analysisResult=null,this.analysisError=null,this.$emit("symbol-change",this.selectedSymbol)},loadMarketData:function(){var t=this;return(0,o.A)((0,l.A)().m(function a(){return(0,l.A)().w(function(a){while(1)switch(a.n){case 0:t.loadingMarket=!0,t.loadSentimentData(),t.loadIndicesData(),t.loadHeatmapData(),t.loadCalendarData();case 1:return a.a(2)}},a)}))()},loadSentimentData:function(){var t=this;return(0,o.A)((0,l.A)().m(function a(){var s,e,i,r;return(0,l.A)().w(function(a){while(1)switch(a.p=a.n){case 0:return t.loadingSentiment=!0,a.p=1,a.n=2,(0,b.EF)();case 2:s=a.v,1===(null===s||void 0===s?void 0:s.code)&&null!==s&&void 0!==s&&s.data&&(t.marketData.fearGreed=(null===(e=s.data.fear_greed)||void 0===e?void 0:e.value)||null,t.marketData.vix=(null===(i=s.data.vix)||void 0===i?void 0:i.value)||null,t.marketData.dxy=(null===(r=s.data.dxy)||void 0===r?void 0:r.value)||null),a.n=4;break;case 3:a.p=3,a.v;case 4:return a.p=4,t.loadingSentiment=!1,t.checkAllLoaded(),a.f(4);case 5:return a.a(2)}},a,null,[[1,3,4,5]])}))()},loadIndicesData:function(){var t=this;return(0,o.A)((0,l.A)().m(function a(){var s;return(0,l.A)().w(function(a){while(1)switch(a.p=a.n){case 0:return t.loadingIndices=!0,a.p=1,a.n=2,(0,b.yI)();case 2:s=a.v,1===(null===s||void 0===s?void 0:s.code)&&null!==s&&void 0!==s&&s.data&&(t.marketData.indices=s.data.indices||[]),a.n=4;break;case 3:a.p=3,a.v;case 4:return a.p=4,t.loadingIndices=!1,t.checkAllLoaded(),a.f(4);case 5:return a.a(2)}},a,null,[[1,3,4,5]])}))()},loadHeatmapData:function(){var t=this;return(0,o.A)((0,l.A)().m(function a(){var s;return(0,l.A)().w(function(a){while(1)switch(a.p=a.n){case 0:return t.loadingHeatmap=!0,a.p=1,a.n=2,(0,b.f$)();case 2:s=a.v,1===(null===s||void 0===s?void 0:s.code)&&null!==s&&void 0!==s&&s.data&&(t.marketData.heatmap={crypto:s.data.crypto||[],commodities:s.data.commodities||[],sectors:s.data.sectors||[],forex:s.data.forex||[]}),a.n=4;break;case 3:a.p=3,a.v;case 4:return a.p=4,t.loadingHeatmap=!1,t.checkAllLoaded(),a.f(4);case 5:return a.a(2)}},a,null,[[1,3,4,5]])}))()},loadCalendarData:function(){var t=this;return(0,o.A)((0,l.A)().m(function a(){var s;return(0,l.A)().w(function(a){while(1)switch(a.p=a.n){case 0:return t.loadingCalendar=!0,a.p=1,a.n=2,(0,b.kF)();case 2:s=a.v,1===(null===s||void 0===s?void 0:s.code)&&(t.marketData.calendar=s.data||[]),a.n=4;break;case 3:a.p=3,a.v;case 4:return a.p=4,t.loadingCalendar=!1,t.checkAllLoaded(),a.f(4);case 5:return a.a(2)}},a,null,[[1,3,4,5]])}))()},checkAllLoaded:function(){this.loadingSentiment||this.loadingIndices||this.loadingHeatmap||this.loadingCalendar||(this.loadingMarket=!1)},getFearGreedClass:function(t){return t?t<=25?"extreme-fear":t<=45?"fear":t<=55?"neutral":t<=75?"greed":"extreme-greed":""},getVixLevel:function(t){return t?t<15?"low":t<25?"medium":"high":""},formatNum:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return void 0===t||null===t||isNaN(t)?"--":Number(t).toFixed(a)},getHeatmapStyle:function(t){var a=parseFloat(t)||0,s=Math.min(Math.abs(a)/5,1);return a>=0?{background:"rgba(34, 197, 94, ".concat(.15+.6*s,")"),color:a>2?"#fff":"#166534"}:{background:"rgba(239, 68, 68, ".concat(.15+.6*s,")"),color:a<-2?"#fff":"#991b1b"}},getCountryFlag:function(t){var a={US:"üá∫üá∏",CN:"üá®üá≥",EU:"üá™üá∫",JP:"üáØüáµ",UK:"üá¨üáß",DE:"üá©üá™",AU:"üá¶üá∫",CA:"üá®üá¶"};return a[t]||"üåç"},formatCalendarDate:function(t){if(!t)return"";try{var a=new Date(t),s=new Date,e=new Date(s);if(e.setDate(e.getDate()+1),a.toDateString()===s.toDateString())return this.isZhLocale?"‰ªäÂ§©":"Today";if(a.toDateString()===e.toDateString())return this.isZhLocale?"ÊòéÂ§©":"Tmrw";var i=a.getMonth()+1,r=a.getDate();return"".concat(i,"/").concat(r)}catch(n){return t}},formatPrice:function(t){return t?t>=1e4?(t/1e3).toFixed(1)+"K":t>=1e3?t.toFixed(0):t.toFixed(2):"--"},formatHeatmapPrice:function(t){return t?t>=1e4?"$"+(t/1e3).toFixed(1)+"K":t>=1e3?"$"+t.toFixed(0):t>=1?"$"+t.toFixed(2):"$"+t.toFixed(4):""},getHeatmapName:function(t){return"sectors"===this.heatmapType||"commodities"===this.heatmapType||"forex"===this.heatmapType?this.isZhLocale?t.name_cn||t.name:t.name_en||t.name:t.name},getImpactClass:function(t){return t.actual_impact||t.expected_impact||"neutral"},getMarketColor:function(t){var a={USStock:"green",Crypto:"purple",Forex:"gold",Futures:"cyan"};return a[t]||"default"},getCurrencySymbol:function(t){return"$"},startFastAnalysis:function(){var t=this;return(0,o.A)((0,l.A)().m(function a(){var s,e,i,r,o,c,d,u;return(0,l.A)().w(function(a){while(1)switch(a.p=a.n){case 0:if(!t.analyzing){a.n=1;break}return a.a(2);case 1:if(t.selectedSymbol){a.n=2;break}return t.$message.warning(t.$t("dashboard.analysis.message.selectSymbol")),a.a(2);case 2:return t.analyzing=!0,t.analysisError=null,s=t.selectedSymbol.split(":"),e=(0,n.A)(s,2),i=e[0],r=e[1],o=t.$store.getters.lang||"zh-CN",a.p=3,a.n=4,p({market:i,symbol:r,language:o,timeframe:"1D"});case 4:if(c=a.v,!c||1!==c.code||!c.data){a.n=5;break}t.analysisResult=c.data,t.$message.success(t.$t("dashboard.analysis.message.analysisComplete")),a.n=6;break;case 5:throw new Error((null===c||void 0===c?void 0:c.msg)||"ÂàÜÊûêÂ§±Ë¥•");case 6:a.n=8;break;case 7:a.p=7,u=a.v,t.analysisError=(null===u||void 0===u||null===(d=u.response)||void 0===d||null===(d=d.data)||void 0===d?void 0:d.msg)||(null===u||void 0===u?void 0:u.message)||t.$t("dashboard.analysis.message.analysisFailed"),t.$message.error(t.analysisError);case 8:return a.p=8,t.analyzing=!1,a.f(8);case 9:return a.a(2)}},a,null,[[3,7,8,9]])}))()},loadHistoryList:function(){var t=this;return(0,o.A)((0,l.A)().m(function a(){var s;return(0,l.A)().w(function(a){while(1)switch(a.p=a.n){case 0:return t.historyLoading=!0,a.p=1,a.n=2,v({page:t.historyPage,pagesize:t.historyPageSize});case 2:s=a.v,s&&1===s.code&&s.data&&(t.historyList=s.data.list||[],t.historyTotal=s.data.total||0),a.n=4;break;case 3:a.p=3,a.v,t.$message.error(t.$t("dashboard.analysis.message.loadHistoryFailed")||"Âä†ËΩΩÂéÜÂè≤ËÆ∞ÂΩïÂ§±Ë¥•");case 4:return a.p=4,t.historyLoading=!1,a.f(4);case 5:return a.a(2)}},a,null,[[1,3,4,5]])}))()},viewHistoryResult:function(t){var a=this;return(0,o.A)((0,l.A)().m(function s(){return(0,l.A)().w(function(s){while(1)switch(s.n){case 0:if(!t.full_result){s.n=1;break}return a.analysisResult=t.full_result,a.selectedSymbol="".concat(t.market,":").concat(t.symbol),a.showHistoryModal=!1,s.a(2);case 1:a.analysisResult={decision:t.decision,confidence:t.confidence,summary:t.summary,market_data:{current_price:t.price,change_24h:0},trading_plan:{entry_price:t.price,stop_loss:.95*t.price,take_profit:1.05*t.price},scores:t.scores||{},reasons:t.reasons||[],risks:[],indicators:t.indicators||{},memory_id:t.id,analysis_time_ms:0},a.selectedSymbol="".concat(t.market,":").concat(t.symbol),a.showHistoryModal=!1;case 2:return s.a(2)}},s)}))()},deleteHistoryItem:function(t){var a=this;return(0,o.A)((0,l.A)().m(function s(){var e;return(0,l.A)().w(function(s){while(1)switch(s.p=s.n){case 0:return s.p=0,s.n=1,f(t.id);case 1:e=s.v,e&&1===e.code?(a.$message.success(a.$t("dashboard.analysis.message.deleteSuccess")),a.loadHistoryList()):a.$message.error((null===e||void 0===e?void 0:e.msg)||a.$t("dashboard.analysis.message.deleteFailed")),s.n=3;break;case 2:s.p=2,s.v,a.$message.error(a.$t("dashboard.analysis.message.deleteFailed"));case 3:return s.a(2)}},s,null,[[0,2]])}))()},formatTime:function(t){if(!t)return"-";var a=new Date(1e3*t);return a.toLocaleString("zh-CN")},formatIsoTime:function(t){if(!t)return"-";var a=new Date(t);return a.toLocaleString("zh-CN")},getStatusColor:function(t){var a={pending:"orange",processing:"blue",completed:"green",failed:"red"};return a[t]||"default"},getStatusText:function(t){var a={pending:"dashboard.analysis.status.pending",processing:"dashboard.analysis.status.processing",completed:"dashboard.analysis.status.completed",failed:"dashboard.analysis.status.failed"},s=a[t];return s?this.$t(s):t},loadUserInfo:function(){var t=this;return(0,o.A)((0,l.A)().m(function a(){var s;return(0,l.A)().w(function(a){while(1)switch(a.p=a.n){case 0:if(t.loadingUserInfo=!0,a.p=1,!t.storeUserInfo||!t.storeUserInfo.email){a.n=2;break}return t.localUserInfo=t.storeUserInfo,t.userId=t.storeUserInfo.id,t.loadingUserInfo=!1,t.loadWatchlist(),a.a(2);case 2:return a.n=3,(0,u.ug)();case 3:s=a.v,s&&1===s.code&&s.data&&(t.localUserInfo=s.data,t.userId=s.data.id,t.$store.commit("SET_INFO",s.data),t.loadWatchlist()),a.n=5;break;case 4:a.p=4,a.v;case 5:return a.p=5,t.loadingUserInfo=!1,a.f(5);case 6:return a.a(2)}},a,null,[[1,4,5,6]])}))()},loadWatchlist:function(){var t=this;return(0,o.A)((0,l.A)().m(function a(){var s;return(0,l.A)().w(function(a){while(1)switch(a.p=a.n){case 0:if(t.userId){a.n=1;break}return a.a(2);case 1:return t.loadingWatchlist=!0,a.p=2,a.n=3,(0,m.Qo)({userid:t.userId});case 3:if(s=a.v,!s||1!==s.code||!s.data){a.n=4;break}return t.watchlist=s.data.map(function(t){return(0,c.A)((0,c.A)({},t),{},{price:0,change:0,changePercent:0})}),a.n=4,t.loadWatchlistPrices();case 4:a.n=6;break;case 5:a.p=5,a.v;case 6:return a.p=6,t.loadingWatchlist=!1,a.f(6);case 7:return a.a(2)}},a,null,[[2,5,6,7]])}))()},loadWatchlistPrices:function(){var t=this;return(0,o.A)((0,l.A)().m(function a(){var s,e,i,r;return(0,l.A)().w(function(a){while(1)switch(a.p=a.n){case 0:if(t.watchlist&&0!==t.watchlist.length){a.n=1;break}return a.a(2);case 1:return a.p=1,s=t.watchlist.map(function(t){return{market:t.market,symbol:t.symbol}}),a.n=2,(0,m.ms)({watchlist:s});case 2:e=a.v,e&&1===e.code&&e.data&&(i={},r={},e.data.forEach(function(t){i["".concat(t.market,"-").concat(t.symbol)]=t,r["".concat(t.market,":").concat(t.symbol)]={price:t.price||0,change:t.changePercent||0}}),t.watchlistPrices=r,t.watchlist=t.watchlist.map(function(t){var a="".concat(t.market,"-").concat(t.symbol),s=i[a];return s?(0,c.A)((0,c.A)({},t),{},{price:s.price||0,change:s.change||0,changePercent:s.changePercent||0}):t})),a.n=4;break;case 3:a.p=3,a.v;case 4:return a.a(2)}},a,null,[[1,3]])}))()},startWatchlistPriceRefresh:function(){var t=this;this.watchlistPriceTimer=setInterval(function(){t.watchlist&&t.watchlist.length>0&&t.loadWatchlistPrices()},3e4),this.watchlist&&this.watchlist.length>0&&this.loadWatchlistPrices()},handleAddStock:function(){var t=this;return(0,o.A)((0,l.A)().m(function a(){var s,e,i,r,n,o,c;return(0,l.A)().w(function(a){while(1)switch(a.p=a.n){case 0:if(s="",e="",i="",!t.selectedSymbolForAdd){a.n=1;break}s=t.selectedSymbolForAdd.market,e=t.selectedSymbolForAdd.symbol.toUpperCase(),i=t.selectedSymbolForAdd.name||"",a.n=4;break;case 1:if(!t.symbolSearchKeyword||!t.symbolSearchKeyword.trim()){a.n=3;break}if(t.selectedMarketTab){a.n=2;break}return t.$message.warning(t.$t("dashboard.analysis.modal.addStock.pleaseSelectMarket")),a.a(2);case 2:s=t.selectedMarketTab,e=t.symbolSearchKeyword.trim().toUpperCase(),i="",a.n=4;break;case 3:return t.$message.warning(t.$t("dashboard.analysis.modal.addStock.pleaseSelectOrEnterSymbol")),a.a(2);case 4:return t.addingStock=!0,a.p=5,a.n=6,(0,m.dp)({userid:t.userId,market:s,symbol:e,name:i});case 6:if(r=a.v,!r||1!==r.code){a.n=8;break}return t.$message.success(t.$t("dashboard.analysis.message.addStockSuccess")),t.handleCloseAddStockModal(),a.n=7,t.loadWatchlist();case 7:a.n=9;break;case 8:t.$message.error((null===r||void 0===r?void 0:r.msg)||t.$t("dashboard.analysis.message.addStockFailed"));case 9:a.n=11;break;case 10:a.p=10,c=a.v,o=(null===c||void 0===c||null===(n=c.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.msg)||(null===c||void 0===c?void 0:c.message)||t.$t("dashboard.analysis.message.addStockFailed"),t.$message.error(o);case 11:return a.p=11,t.addingStock=!1,a.f(11);case 12:return a.a(2)}},a,null,[[5,10,11,12]])}))()},handleCloseAddStockModal:function(){this.showAddStockModal=!1,this.selectedSymbolForAdd=null,this.symbolSearchKeyword="",this.symbolSearchResults=[],this.hasSearched=!1,this.selectedMarketTab=this.marketTypes.length>0?this.marketTypes[0].value:""},handleMarketTabChange:function(t){this.selectedMarketTab=t,this.symbolSearchKeyword="",this.symbolSearchResults=[],this.selectedSymbolForAdd=null,this.hasSearched=!1,this.loadHotSymbols(t)},handleSymbolSearchInput:function(t){var a=this,s=t.target.value;if(this.symbolSearchKeyword=s,this.searchTimer&&clearTimeout(this.searchTimer),!s||""===s.trim())return this.symbolSearchResults=[],this.hasSearched=!1,void(this.selectedSymbolForAdd=null);this.searchTimer=setTimeout(function(){a.searchSymbolsInModal(s)},500)},handleSearchOrInput:function(t){t&&t.trim()&&(this.selectedMarketTab?this.symbolSearchResults.length>0||(this.hasSearched&&0===this.symbolSearchResults.length?this.handleDirectAdd():this.searchSymbolsInModal(t)):this.$message.warning(this.$t("dashboard.analysis.modal.addStock.pleaseSelectMarket")))},searchSymbolsInModal:function(t){var a=this;return(0,o.A)((0,l.A)().m(function s(){var e;return(0,l.A)().w(function(s){while(1)switch(s.p=s.n){case 0:if(t&&""!==t.trim()){s.n=1;break}return a.symbolSearchResults=[],a.hasSearched=!1,s.a(2);case 1:if(a.selectedMarketTab){s.n=2;break}return a.$message.warning(a.$t("dashboard.analysis.modal.addStock.pleaseSelectMarket")),s.a(2);case 2:return a.searchingSymbols=!0,a.hasSearched=!0,s.p=3,s.n=4,(0,m._3)({market:a.selectedMarketTab,keyword:t.trim(),limit:20});case 4:e=s.v,e&&1===e.code&&e.data&&e.data.length>0?a.symbolSearchResults=e.data:(a.symbolSearchResults=[],a.selectedSymbolForAdd={market:a.selectedMarketTab,symbol:t.trim().toUpperCase(),name:""}),s.n=6;break;case 5:s.p=5,s.v,a.symbolSearchResults=[],a.selectedSymbolForAdd={market:a.selectedMarketTab,symbol:t.trim().toUpperCase(),name:""};case 6:return s.p=6,a.searchingSymbols=!1,s.f(6);case 7:return s.a(2)}},s,null,[[3,5,6,7]])}))()},handleDirectAdd:function(){this.symbolSearchKeyword&&this.symbolSearchKeyword.trim()?this.selectedMarketTab?this.selectedSymbolForAdd={market:this.selectedMarketTab,symbol:this.symbolSearchKeyword.trim().toUpperCase(),name:""}:this.$message.warning(this.$t("dashboard.analysis.modal.addStock.pleaseSelectMarket")):this.$message.warning(this.$t("dashboard.analysis.modal.addStock.pleaseEnterSymbol"))},selectSymbol:function(t){this.selectedSymbolForAdd={market:t.market,symbol:t.symbol,name:t.name||t.symbol}},loadHotSymbols:function(t){var a=this;return(0,o.A)((0,l.A)().m(function s(){var e;return(0,l.A)().w(function(s){while(1)switch(s.p=s.n){case 0:if(t||(t=a.selectedMarketTab||(a.marketTypes.length>0?a.marketTypes[0].value:"")),t){s.n=1;break}return s.a(2);case 1:return a.loadingHotSymbols=!0,s.p=2,s.n=3,(0,m.z6)({market:t,limit:10});case 3:e=s.v,e&&1===e.code&&e.data?a.hotSymbols=e.data:a.hotSymbols=[],s.n=5;break;case 4:s.p=4,s.v,a.hotSymbols=[];case 5:return s.p=5,a.loadingHotSymbols=!1,s.f(5);case 6:return s.a(2)}},s,null,[[2,4,5,6]])}))()},removeFromWatchlist:function(t){var a=arguments,s=this;return(0,o.A)((0,l.A)().m(function e(){var i,n,o;return(0,l.A)().w(function(e){while(1)switch(e.p=e.n){case 0:if(s.userId){e.n=1;break}return e.a(2);case 1:return i="object"===(0,r.A)(t)?t.symbol:t,n="object"===(0,r.A)(t)?t.market:a[1],e.p=2,e.n=3,(0,m.mk)({userid:s.userId,symbol:i,market:n});case 3:if(o=e.v,!o||1!==o.code){e.n=5;break}return s.$message.success(s.$t("dashboard.analysis.message.removeStockSuccess")),e.n=4,s.loadWatchlist();case 4:e.n=6;break;case 5:s.$message.error((null===o||void 0===o?void 0:o.msg)||s.$t("dashboard.analysis.message.removeStockFailed"));case 6:e.n=8;break;case 7:e.p=7,e.v,s.$message.error(s.$t("dashboard.analysis.message.removeStockFailed"));case 8:return e.a(2)}},e,null,[[2,7]])}))()},getMarketName:function(t){return this.$t("dashboard.analysis.market.".concat(t))||t},formatNumber:function(t){return"string"===typeof t?t:t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},loadMarketTypes:function(){var t=this;return(0,o.A)((0,l.A)().m(function a(){var s;return(0,l.A)().w(function(a){while(1)switch(a.p=a.n){case 0:return a.p=0,a.n=1,(0,m.iO)();case 1:s=a.v,s&&1===s.code&&s.data&&Array.isArray(s.data)?t.marketTypes=s.data.map(function(t){return{value:t.value,i18nKey:t.i18nKey||"dashboard.analysis.market.".concat(t.value)}}):t.marketTypes=[{value:"USStock",i18nKey:"dashboard.analysis.market.USStock"},{value:"Crypto",i18nKey:"dashboard.analysis.market.Crypto"},{value:"Forex",i18nKey:"dashboard.analysis.market.Forex"},{value:"Futures",i18nKey:"dashboard.analysis.market.Futures"}],a.n=3;break;case 2:a.p=2,a.v,t.marketTypes=[{value:"USStock",i18nKey:"dashboard.analysis.market.USStock"},{value:"Crypto",i18nKey:"dashboard.analysis.market.Crypto"},{value:"Forex",i18nKey:"dashboard.analysis.market.Forex"},{value:"Futures",i18nKey:"dashboard.analysis.market.Futures"}];case 3:t.marketTypes.length>0&&!t.selectedMarketTab&&(t.selectedMarketTab=t.marketTypes[0].value);case 4:return a.a(2)}},a,null,[[0,2]])}))()}},watch:{presetSymbol:function(t){t&&t!==this.selectedSymbol&&(this.selectedSymbol=t,this.analysisResult=null,this.analysisError=null)},autoAnalyzeSignal:function(t){var a=this;t&&(this.presetSymbol&&this.presetSymbol!==this.selectedSymbol&&(this.selectedSymbol=this.presetSymbol),this.$nextTick(function(){a.startFastAnalysis()}))},showAddStockModal:function(t){t?(this.marketTypes.length>0&&!this.selectedMarketTab&&(this.selectedMarketTab=this.marketTypes[0].value),this.selectedMarketTab&&this.loadHotSymbols(this.selectedMarketTab)):(this.selectedSymbolForAdd=null,this.symbolSearchKeyword="",this.symbolSearchResults=[],this.hasSearched=!1,this.searchTimer&&(clearTimeout(this.searchTimer),this.searchTimer=null))}}},T=x,F=(0,A.A)(T,e,i,!1,null,"76a3e064",null),M=F.exports},35038:function(t,a,s){s.d(a,{Qo:function(){return r},_3:function(){return d},dp:function(){return n},iO:function(){return c},mk:function(){return l},ms:function(){return o},z6:function(){return u}});var e=s(75769),i={GetWatchlist:"/api/market/watchlist/get",AddWatchlist:"/api/market/watchlist/add",RemoveWatchlist:"/api/market/watchlist/remove",GetWatchlistPrices:"/api/market/watchlist/prices",MultiAnalysis:"/api/analysis/multiAnalysis",CreateAnalysisTask:"/api/analysis/createTask",GetAnalysisTaskStatus:"/api/analysis/getTaskStatus",GetAnalysisHistoryList:"/api/analysis/getHistoryList",DeleteAnalysisTask:"/api/analysis/deleteTask",ReflectAnalysis:"/api/analysis/reflect",ChatMessage:"/api/ai/chat/message",GetChatHistory:"/api/ai/chat/history",SaveChatHistory:"/api/ai/chat/history/save",GetConfig:"/api/market/config",GetMenuFooterConfig:"/api/market/menuFooterConfig",GetMarketTypes:"/api/market/types",SearchSymbols:"/api/market/symbols/search",GetHotSymbols:"/api/market/symbols/hot"};function r(t){return(0,e.Ay)({url:i.GetWatchlist,method:"get",params:t})}function n(t){return(0,e.Ay)({url:i.AddWatchlist,method:"post",data:t})}function l(t){return(0,e.Ay)({url:i.RemoveWatchlist,method:"post",data:t})}function o(t){return(0,e.Ay)({url:i.GetWatchlistPrices,method:"get",params:{watchlist:JSON.stringify(t.watchlist||[])}})}function c(){return(0,e.Ay)({url:i.GetMarketTypes,method:"get"})}function d(t){return(0,e.Ay)({url:i.SearchSymbols,method:"get",params:t})}function u(t){return(0,e.Ay)({url:i.GetHotSymbols,method:"get",params:t})}},44146:function(t,a,s){s.d(a,{EF:function(){return o},f$:function(){return n},kF:function(){return l},r9:function(){return c},yI:function(){return r}});var e=s(75769),i="/api/global-market";function r(){return(0,e.Ay)({url:"".concat(i,"/overview"),method:"get"})}function n(){return(0,e.Ay)({url:"".concat(i,"/heatmap"),method:"get"})}function l(){return(0,e.Ay)({url:"".concat(i,"/calendar"),method:"get"})}function o(){return(0,e.Ay)({url:"".concat(i,"/sentiment"),method:"get"})}function c(t){return(0,e.Ay)({url:"".concat(i,"/opportunities"),method:"get",params:t})}}}]);